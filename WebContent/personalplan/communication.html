	<button id='PageNavPrevComm' class='prevButton' >Previous</button>	
	<button id='PageNavNextComm' class='nextButton' >Next</button>
	<button id='PageNavSubmitBComm' class='submitButton'>Submit</button>
	<div id='testing'></div>
	
	<div id='commD'>
		<label for='ICommunicateT' class='toggle'>I communicate with others by: </label>
		<div id='ICommunicateD'>
			<textarea id='ICommunicateT' name='ICommunicateT' rows="3" cols="50"></textarea>
		</div>
		
		<label for='youCommunicateT' class='toggle'>I like others to communicate with me by: </label>
		<div id='youCommunicateD'>
			<textarea id='youCommunicateT' name='youCommunicateT' rows="3" cols="50"></textarea>
		</div>
		
		<label for='supportPeopleT' class='toggle'>The people that support me to make important decisions are: </label>
		<div id='supportPeopleD'>
			<textarea id='supportPeopleT' name='supportPeopleT' rows="3" cols="50"></textarea>
		</div>
		
		<label for='supportMeByT' class='toggle'>I like to be supported to make day to day decisions by: </label>
		<div id='supportMeByD'>
			<textarea id='supportMeByT' name='supportMeByT' rows="3" cols="50"></textarea>
		</div>
		
		<label for='independantDecisionsT' class='toggle'>I make these decisions independently: </label>
		<div id='independantDecisionsD'>
			<textarea id='independantDecisionsT' name='independantDecisionsT' rows="3" cols="50"></textarea>
		</div>
		
		<label for='goodTopicsT' class='toggle'>Topics that I enjoy talking/hearing about: </label>
		<div id='goodTopicsD'>
			<textarea id='goodTopicsT' name='goodTopicsT' rows="3" cols="50"></textarea>
		</div>
		
		<label for='likesT' class='toggle'>Likes: </label>
		<div id='likesD'>
			<textarea id='likesT' name='likesT' rows="3" cols="50"></textarea>
		</div>
		
		<label for='dislikesT' class='toggle'>Dislikes: </label>
		<div id='dislikesD'>
			<textarea id='dislikesT' name='dislikesT' rows="3" cols="50"></textarea>
		</div>
	</div>


<script type='text/javascript'>
	$(document).ready(function() {
		//page load
		$.ajax({
			url: "./rest/personalplan/communication/" + $.cookie('user_id') + "/" + $.cookie('auth_token') + "/" + $.cookie('client_id'),
			type:"get",
			contentType: "application/json",
			success: function(d) {		
				//alert(d.personalDetails.preferredName);
// 				alert("do now");	
				//alert(d.personalDetails.preferredName);
				$("#ICommunicateT").val(d.comsAndDecisionMaking.iCommunicate)
				$("#youCommunicateT").val(d.comsAndDecisionMaking.youCommunicate)
				$("#supportPeopleT").val(d.comsAndDecisionMaking.supportPeople)
				$("#supportMeByT").val(d.comsAndDecisionMaking.supportMeBy)
				$("#independantDecisionsT").val(d.comsAndDecisionMaking.independantDecisions)
				$("#goodTopicsT").val(d.comsAndDecisionMaking.goodTopics)
				$("#likesT").val(d.comsAndDecisionMaking.likes)
				$("#dislikesT").val(d.comsAndDecisionMaking.dislikes)
				
// 			  	alert("done");
			},
			error: function(xhr) {
				// do something to handle error
				alert("error");
			}
		});
		
		//show submit button (only have 1 tab)
		$("PageNavSubmitBComm").show();
		
		
		//click on the submit button
		$("#PageNavSubmitBComm").click(function(){
			var comsAndDecisionMaking = new Object();
			comsAndDecisionMaking.dislikes = $("#dislikesT").val();
			comsAndDecisionMaking.goodTopics = $("#goodTopicsT").val();
			comsAndDecisionMaking.ICommunicate = $("#ICommunicateT").val();
			comsAndDecisionMaking.independantDecisions = $("#independantDecisionsT").val();
			comsAndDecisionMaking.likes = $("#likesT").val();
			comsAndDecisionMaking.supportMeBy = $("#supportMeByT").val();
			comsAndDecisionMaking.supportPeople = $("#supportPeopleT").val();
			comsAndDecisionMaking.youCommunicate = $("#youCommunicateT").val();

			
			
			var communication = new Object();
			communication.comsAndDecisionMaking = comsAndDecisionMaking;
			
			var jsonText = JSON.stringify(communication);
			$("#testing").html(jsonText);
			
			$.ajax({
				url:'./rest/personalplan/communication/' + $.cookie('user_id') + "/" + $.cookie('auth_token') +'/1',
				type: 'POST',
				contentType: 'application/json; charset=UTF-8',
				dataType: 'json',
				data: jsonText,
				complete: function(jqXHR, textStatus) {
					alert(textStatus);
				}
			});
		});

		
	});
</script>