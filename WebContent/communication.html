<html>
<head>
	<script type='text/javascript' src='scripts/jquery.js' ></script>
	<script type='text/javascript' src='scripts/json2.js' ></script>
	<link href="css/style.css" rel="stylesheet">

</head>
<body>
	<button id='PageNavPrev' name='PageNavPrev' >Previous</button>	
	<button id='PageNavNext' name='PageNavNext' >Next</button>
	<button id='PageNavSubmitB' name='PageNavSubmitB'>Submit</button>
	<div id='testing'></div>
	
	<div id='commD'>
		<label for='ICommunicateT' class='toggle'>I communicate with others by: </label>
		<div id='ICommunicateD'>
			<textarea id='ICommunicateT' name='ICommunicateT' rows="3" cols="50"></textarea>
		</div>
		
		<label for='youCommunicateT' class='toggle'>I like others to communicate with me by: </label>
		<div id='youCommunicateD'>
			<textarea id='youCommunicateT' name='youCommunicateT' rows="3" cols="50"></textarea>
		</div>
		
		<label for='supportPeopleT' class='toggle'>The people that support me to make important decisions are: </label>
		<div id='supportPeopleD'>
			<textarea id='supportPeopleT' name='supportPeopleT' rows="3" cols="50"></textarea>
		</div>
		
		<label for='supportMeByT' class='toggle'>I like to be supported to make day to day decisions by: </label>
		<div id='supportMeByD'>
			<textarea id='supportMeByT' name='supportMeByT' rows="3" cols="50"></textarea>
		</div>
		
		<label for='independantDecisionsT' class='toggle'>I make these decisions independently: </label>
		<div id='independantDecisionsD'>
			<textarea id='independantDecisionsT' name='independantDecisionsT' rows="3" cols="50"></textarea>
		</div>
		
		<label for='goodTopicsT' class='toggle'>Topics that I enjoy talking/hearing about: </label>
		<div id='goodTopicsD'>
			<textarea id='goodTopicsT' name='goodTopicsT' rows="3" cols="50"></textarea>
		</div>
		
		<label for='likesT' class='toggle'>Likes: </label>
		<div id='likesD'>
			<textarea id='likesT' name='likesT' rows="3" cols="50"></textarea>
		</div>
		
		<label for='dislikesT' class='toggle'>Dislikes: </label>
		<div id='dislikesD'>
			<textarea id='dislikesT' name='dislikesT' rows="3" cols="50"></textarea>
		</div>
	</div>
</body>
</html>



<script type='text/javascript'>
	var pageDivNav = new Array("commD");

	function PageNavigation(dir) {
		for(var i=0; i<pageDivNav.length; i++) {
			if($("#" + pageDivNav[i]).css('display') != 'none') {
				//perform page navigation
				if(dir=="next") {
					$("#PageNavPrev").show();
					$("#" + pageDivNav[i+1]).show();
					//show the submit button and hide next button if we are on the last page
					if(i+1==pageDivNav.length-1) {
						$("#PageNavNext").hide();
						$("#PageNavSubmitB").show();
					}
				}else if(dir=='prev') {
					$("#PageNavNext").show();
					$("#PageNavSubmitB").hide();
					$("#" + pageDivNav[i-1]).show();
					//hide the previous button if we are on the first page
					if(i-1==0) {
						$("#PageNavPrev").hide();
					}
				}
				//hide the current div
				$("#" + pageDivNav[i]).hide();
				break;
			}
		}
	};		


	$(document).ready(function() {
		//page load
		//hide necessary elements
//MAKE THIS INTO A FUNCTION BECAUSE YOU DO IT ON EVERY PAGE AND HAVE AN ARRAY OF THE PAGE NAV DIVS
		$("#PageNavNext").hide();
		$("#PageNavPrev").hide();

		
		//click on the submit button
		$("#PageNavSubmitB").click(function(){
			var comsAndDecisionMaking = new Object();
			comsAndDecisionMaking.dislikes = $("#dislikesT").val();
			comsAndDecisionMaking.goodTopics = $("#goodTopicsT").val();
			comsAndDecisionMaking.ICommunicate = $("#ICommunicateT").val();
			comsAndDecisionMaking.independantDecisions = $("#independantDecisionsT").val();
			comsAndDecisionMaking.likes = $("#likesT").val();
			comsAndDecisionMaking.supportMeBy = $("#supportMeByT").val();
			comsAndDecisionMaking.supportPeople = $("#supportPeopleT").val();
			comsAndDecisionMaking.youCommunicate = $("#youCommunicateT").val();

			
			
			var communication = new Object();
			communication.comsAndDecisionMaking = comsAndDecisionMaking;
			
			var jsonText = JSON.stringify(communication);
			$("#testing").html(jsonText);
			
			$.ajax({
				url:'',
				type: 'POST',
				dataType: 'application/jsonp',
				data: jsonText,
				complete: function(jqXHR, textStatus) {
					alert(textStatus);
				}
			});
		});

		
	});
</script>